# üìã –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–∂–∏–º–∞ –∫–Ω–æ–ø–æ—á–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤

**–î–∞—Ç–∞:** 2 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è:** 22:20  
**–í–µ—Ä—Å–∏—è:** 1.0.1 (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º)

---

## üî¥ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ClassCastException –≤ MenuButtonWidget
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø—Ä–∏ inflate
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ views –ø–æ—Å–ª–µ inflate
- **–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```kotlin
// –ë—ã–ª–æ:
val view = inflater.inflate(R.layout.menu_button_widget, this, true)
menuButton = view.findViewById(R.id.menuButtonWidget)

// –°—Ç–∞–ª–æ:
inflater.inflate(R.layout.menu_button_widget, this, true)
menuButton = findViewById(R.id.menuButtonWidget)
```

### 2. HomeScreenActivity –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø
- **–ü—Ä–æ–±–ª–µ–º–∞:** InflateException –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ MenuButtonWidget
- **–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** ID –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ layout —Ñ–∞–π–ª–µ
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å menu_button_widget.xml

---

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

### AppListActivity
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ –°–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ D-pad –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è (KEYCODE_DPAD_DOWN, RIGHT)
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞

### D-pad –Ω–∞–≤–∏–≥–∞—Ü–∏—è (—á–∞—Å—Ç–∏—á–Ω–æ)
- ‚úÖ –°–∏–º—É–ª—è—Ü–∏—è D-pad —Å–æ–±—ã—Ç–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ ADB
- ‚úÖ –°–æ–±—ã—Ç–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚ö†Ô∏è –ü–æ–ª–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è HomeScreenActivity

---

## üîß –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adb install -r -g "./app/build/outputs/apk/debug/–òLauncher.apk"

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adb shell am start -n com.customlauncher.app/.ui.AppListActivity

# –°–∏–º—É–ª—è—Ü–∏—è D-pad
adb shell input keyevent KEYCODE_DPAD_DOWN
adb shell input keyevent KEYCODE_DPAD_RIGHT
adb shell input keyevent KEYCODE_DPAD_UP
adb shell input keyevent KEYCODE_DPAD_CENTER

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
adb shell dumpsys activity activities | grep mCurrentFocus

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
adb logcat -d | grep "HomeScreenModeManager"
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | ‚ö†Ô∏è | AppListActivity —Ä–∞–±–æ—Ç–∞–µ—Ç, HomeScreenActivity –ø–∞–¥–∞–µ—Ç |
| D-pad –Ω–∞–≤–∏–≥–∞—Ü–∏—è | ‚ö†Ô∏è | –ö–æ–º–∞–Ω–¥—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ | ‚ùå | –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ | ‚ùå | –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ |
| –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é | ‚ùå | –í—ã–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—à HomeScreenActivity |
| –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –º–µ–Ω—é | ‚ùå | –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ |

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°—Ä–æ—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å menu_button_widget.xml –Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ID
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç - LinearLayout —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å FrameLayout —Ä–æ–¥–∏—Ç–µ–ª–µ–º

2. **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
   - –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HomeScreenActivity
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
   - –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –°–æ–∑–¥–∞—Ç—å UI —Ç–µ—Å—Ç—ã —Å Espresso
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∂–∏–º –∫–Ω–æ–ø–æ—á–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ **—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω**. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –∫—Ä–∞—à HomeScreenActivity –ø—Ä–∏ –∏–Ω—Ñ–ª—è—Ü–∏–∏ MenuButtonWidget. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–æ—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å MenuButtonWidget –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
